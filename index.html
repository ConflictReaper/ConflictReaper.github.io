<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="webR2sync">
    <meta name="author" content="xiaohe">
    <link rel="icon" href="favicon.ico">

    <title>ConflictReaper</title>

    <!-- Bootstrap core CSS -->
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="sticky-footer.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <!-- Begin page content -->
      <div class="container">
          <div class="page-header">
              <h1>Understanding and Improving Collaboration in Cloud Storage Services</h1>
          </div>
          <p class="lead">
			  Source code of <a target="_blank" href="https://github.com/ConflictReaper/ConflictReaper">ConfilctReaper</a>
          </p>
          <!--<h2>Repositories</h2>-->
          <h3>
              Summary of Our Findings
          </h3>
          <ul>
            <li>
				Five out of the eight cloud storage services do not use any form of locking to prevent conflicts. The other three services use coarse-grained file-level locks (Seafile only supports it for Microsoft Office files). None of these services support line-level locks (commonly in version control systems). Moreover, we find that the locking is done often too early or too late.
			</li>
			<li>
				Resolving conflicts is painful. Although resolving conflicts is seldom considered pleasant, the current practices of existing cloud storage services make it worse. Specifically, Google Drive only keeps the latest version (based on server-side timestamps) of all the conflicted versions. iCloud Drive asks users to choose one version from all the conflicted versions. The other six services distribute all the conflicted versions to all the collaborators, which may potentially cause a merging storm.
			</li>
			<li>
				Many of the undesired experiences are caused by the poor implementation of message queues at the cloud side. We observe that the queuing time of five cloud storage services could be excessive in certain scenarios, indicating that they are using a shared queue. When the queue is overloaded, the file synchronization time becomes unpredictable. To make the matter worse, the time order between file updates could be broken.
			</li>
			<li>
				Combining full-file sync and delta sync to update different sizes of files outperforms a single method. We observe that NutStore adopts full-file sync for small (<= 64 KB) files and delta sync for larger files, which outperforms other services using either full-file sync or delta sync.
			</li>
          </ul>
          <img class="img-responsive center-block" width="600px" alt="architecture" src="./arch.jpg">
          <p style="text-align:center">
              Figure 1: The workflow and system components for supporting collaborative file editing in cloud storage services. The solid boxes denote the common components among all the studied services, whereas the dotted boxes denote components in specific services.
          </p>

          <h3>
              Optimization
          </h3>
		  <ul>
            <li>
				A file-level editing lock based on file editing status is a better option than the hard-coded locks used by some of the existing cloud storage services. The editing lock automatically takes effect and notifies users when a shared file is being edited by collaborators. It prevents the problems of “too early” or “too late” locking. Note that the editing lock is in-situ during file editing, and is fundamentally different from notifications postmortem to file changes.
			</li>
			<li>
				The client should actively fetch the latest version of a collaborative file from the cloud before editing. As this fetch is critical in avoiding conflicts, it should be differently treated with QoS guarantee (e.g., implemented with a dedicated queue). Most of theWeb APIs provided by the cloud storage services can be leveraged to achieve this.
			</li>
          </ul>
          
		  <p class="lead">
			  We implement the <a target="_blank" href="https://github.com/ConflictReaper/ConflictReaper">ConfilctReaper</a> tool for Dropbox to embody the above optimizations and evaluate their performance.
          </p>
      </div>

    <!--<footer class="footer">-->
      <!--<div class="container">-->
        <!--<p class="text-muted">Place sticky footer content here.</p>-->
      <!--</div>-->
    <!--</footer>-->
    <script src="http://cdn.bootcss.com/jquery/2.2.4/jquery.js"></script>

	<script src="http://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </body>
</html>
